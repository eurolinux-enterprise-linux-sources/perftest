diff -up perftest-1.3.0/perftest_resources.c.rocee perftest-1.3.0/perftest_resources.c
--- perftest-1.3.0/perftest_resources.c.rocee	2011-07-22 17:22:33.693171459 -0400
+++ perftest-1.3.0/perftest_resources.c	2011-07-22 17:30:45.342066366 -0400
@@ -33,23 +33,6 @@ static const char *connStr[]    = {"RC",
 /****************************************************************************** 
  *
  ******************************************************************************/
-const char *link_layer_str(uint8_t link_layer) {
-
-	switch (link_layer) {
-
-        case IBV_LINK_LAYER_UNSPECIFIED:
-        case IBV_LINK_LAYER_INFINIBAND:	
-			return "IB";
-        case IBV_LINK_LAYER_ETHERNET:	
-			return "Ethernet";
-        default:
-		    return "Unknown";
-    }
-}
-
-/****************************************************************************** 
- *
- ******************************************************************************/
 Device is_dev_hermon(struct ibv_context *context) { 
 
 	Device is_hermon = NOT_HERMON;
@@ -688,51 +671,6 @@ int ctx_set_mtu(struct ibv_context *cont
 /****************************************************************************** 
  *
  ******************************************************************************/
-int ctx_set_link_layer(struct ibv_context *context,
-					   struct perftest_parameters *params) {
-
-	struct ibv_port_attr port_attr;
-
-	if (ibv_query_port(context,params->ib_port,&port_attr)) {
-		fprintf(stderr,"Unable to query port attributes\n");
-		return -1;
-	}
-
-	if (port_attr.state != IBV_PORT_ACTIVE) {
-		fprintf(stderr," Port number %d state is %s\n"
-					  ,params->ib_port
-					  ,portStates[port_attr.state]);
-		return -1;
-	}
-
-	params->link_type = port_attr.link_layer; 
-
-	if (!strcmp(link_layer_str(params->link_type),"Unknown")) {
-		fprintf(stderr," Unable to determine link layer \n");
-		return -1;
-	}
-	else {
-		printf(" Link type       : %s\n",link_layer_str(params->link_type));
-	}
-	
-	if (!strcmp(link_layer_str(params->link_type),"Ethernet") &&  params->gid_index == -1) {
-			params->gid_index = 0;
-	}
-
-	if (params->use_mcg &&  params->gid_index == -1) {
-			params->gid_index = 0;
-	}
-
-	if (params->gid_index > -1 && (params->machine == CLIENT || params->duplex)) {
-		fprintf(stdout," Gid index       : %d\n",params->gid_index);
-	}
-
-	return 0;
-}
-
-/****************************************************************************** 
- *
- ******************************************************************************/
 struct ibv_cq* ctx_cq_create(struct ibv_context *context, 
 							 struct ibv_comp_channel *channel,
 							 struct perftest_parameters *param) {
diff -up perftest-1.3.0/perftest_resources.h.rocee perftest-1.3.0/perftest_resources.h
--- perftest-1.3.0/perftest_resources.h.rocee	2011-07-22 17:29:00.254158312 -0400
+++ perftest-1.3.0/perftest_resources.h	2011-07-22 17:29:58.324554694 -0400
@@ -309,18 +309,6 @@ void ctx_print_test_info(struct perftest
  */
 Device is_dev_hermon(struct ibv_context *context);
 
-/* link_layer_str
- *
- * Description : Returns a string of the Link name.
- *
- * Parameters : 
- *
- *	link_layer - the link layer id.
- *
- * Return Value : "IB" , "Ethernet" or "Unknown".
- */
-const char *link_layer_str(uint8_t link_layer);
-
 /* ctx_find_dev
  *
  * Description : Returns the device corresponding to ib_devname 
@@ -351,32 +339,6 @@ struct ibv_device* ctx_find_dev(const ch
  */
 int ctx_set_mtu(struct ibv_context *context,struct perftest_parameters *params);
 
-/* ctx_set_link_layer.
- *
- * Description : Determines the link layer type (IB or ETH).
- *
- * Parameters : 
- *
- *  context - The context of the HCA device.
- *  params  - The perftest parameters of the device.
- *
- * Return Value : 0 upon success. -1 if it fails.
- */
-int ctx_set_link_layer(struct ibv_context *context,struct perftest_parameters *params);
-
-/* ctx_set_link_layer.
- *
- * Description : Determines the link layer type (IB or ETH).
- *
- * Parameters : 
- *
- *  context - The context of the HCA device.
- *  params  - The perftest parameters of the device.
- *
- * Return Value : 0 upon success. -1 if it fails.
- */
-int ctx_set_link_layer(struct ibv_context *context,struct perftest_parameters *params);
-
 /* ctx_cq_create.
  *
  * Description : 
diff -up perftest-1.3.0/read_bw.c.rocee perftest-1.3.0/read_bw.c
--- perftest-1.3.0/read_bw.c.rocee	2011-07-22 17:31:02.747885676 -0400
+++ perftest-1.3.0/read_bw.c	2011-07-22 17:32:44.781827428 -0400
@@ -193,15 +193,9 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-	// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-	
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
-		fprintf(stderr, "Couldn't set the link layer\n");
+		fprintf(stderr, "Couldn't set the link MTU\n");
 		return NULL;
 	}
 
diff -up perftest-1.3.0/read_lat.c.rocee perftest-1.3.0/read_lat.c
--- perftest-1.3.0/read_lat.c.rocee	2011-07-22 17:31:09.259818087 -0400
+++ perftest-1.3.0/read_lat.c	2011-07-22 17:33:01.104658284 -0400
@@ -193,15 +193,9 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-	// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
-		fprintf(stderr, "Couldn't set the link layer\n");
+		fprintf(stderr, "Couldn't set the link MTU\n");
 		return NULL;
 	}
 
diff -up perftest-1.3.0/send_bw.c.rocee perftest-1.3.0/send_bw.c
--- perftest-1.3.0/send_bw.c.rocee	2011-07-22 17:22:07.977422918 -0400
+++ perftest-1.3.0/send_bw.c	2011-07-22 17:33:19.448468249 -0400
@@ -100,12 +100,10 @@ static int set_mcast_group(struct pingpo
 	mcg_params->sm_sl   = port_attr.sm_sl;
 	mcg_params->ib_port = user_parm->ib_port;
 	
-	if (!strcmp(link_layer_str(user_parm->link_type),"IB")) {
-		// Request for Mcast group create registery in SM.
-		if (join_multicast_group(SUBN_ADM_METHOD_SET,mcg_params)) {
-			fprintf(stderr,"Couldn't Register the Mcast group on the SM\n");
-			return 1;
-		}
+	// Request for Mcast group create registery in SM.
+	if (join_multicast_group(SUBN_ADM_METHOD_SET,mcg_params)) {
+		fprintf(stderr,"Couldn't Register the Mcast group on the SM\n");
+		return 1;
 	}
 	return 0;
 }
@@ -208,22 +206,18 @@ static int destroy_ctx_resources(struct 
 				i++;
 			}
 			mcg_params->mgid = my_dest->gid;
-			if (!strcmp(link_layer_str(user_parm->link_type),"IB")) {
-				if (join_multicast_group(SUBN_ADM_METHOD_DELETE,mcg_params)) {
-					fprintf(stderr,"Couldn't Unregister the Mcast group on the SM\n");
-					return 1;
-				}
+			if (join_multicast_group(SUBN_ADM_METHOD_DELETE,mcg_params)) {
+				fprintf(stderr,"Couldn't Unregister the Mcast group on the SM\n");
+				return 1;
 			}
 		}
 
 		if (user_parm->machine == CLIENT || user_parm->duplex) {
 
 			mcg_params->mgid = rem_dest->gid;
-			if (!strcmp(link_layer_str(user_parm->link_type),"IB")) {
-				if (join_multicast_group(SUBN_ADM_METHOD_DELETE,mcg_params)) {
-					fprintf(stderr,"Couldn't Unregister the Mcast group on the SM\n");
-					return 1;
-				}
+			if (join_multicast_group(SUBN_ADM_METHOD_DELETE,mcg_params)) {
+				fprintf(stderr,"Couldn't Unregister the Mcast group on the SM\n");
+				return 1;
 			}
 
 		}
@@ -309,15 +303,9 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-		// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
-		fprintf(stderr, "Couldn't set the link layer\n");
+		fprintf(stderr, "Couldn't set the link MTU\n");
 		return NULL;
 	}
 
diff -up perftest-1.3.0/send_lat.c.rocee perftest-1.3.0/send_lat.c
--- perftest-1.3.0/send_lat.c.rocee	2011-07-22 17:26:40.986608181 -0400
+++ perftest-1.3.0/send_lat.c	2011-07-22 17:27:44.119950510 -0400
@@ -100,12 +100,10 @@ static int set_mcast_group(struct pingpo
 	mcg_params->ib_port = user_parm->ib_port;
 	set_multicast_gid(mcg_params,ctx->qp[0]->qp_num,(int)user_parm->machine);
 
-	if (!strcmp(link_layer_str(user_parm->link_type),"IB")) {
-		// Request for Mcast group create registery in SM.
-		if (join_multicast_group(SUBN_ADM_METHOD_SET,mcg_params)) {
-			fprintf(stderr," Failed to Join Mcast request\n");
-			return 1;
-		}
+	// Request for Mcast group create registery in SM.
+	if (join_multicast_group(SUBN_ADM_METHOD_SET,mcg_params)) {
+		fprintf(stderr," Failed to Join Mcast request\n");
+		return 1;
 	}
 
 	for (i=0; i < user_parm->num_of_qps; i++) {
@@ -134,12 +132,10 @@ static int destroy_mcast_group(struct pi
 			return 1;
 		}
 	}
-	if (!strcmp(link_layer_str(user_parm->link_type),"IB")) {
-		// Removal Request for Mcast group in SM.
-		if (join_multicast_group(SUBN_ADM_METHOD_DELETE,mcg_params)) {
-			fprintf(stderr,"Couldn't Unregister the Mcast group on the SM\n");
-			return 1;
-		}
+	// Removal Request for Mcast group in SM.
+	if (join_multicast_group(SUBN_ADM_METHOD_DELETE,mcg_params)) {
+		fprintf(stderr,"Couldn't Unregister the Mcast group on the SM\n");
+		return 1;
 	}
 
 	mcg_params->mcast_state &= ~MCAST_IS_ATTACHED;
@@ -299,12 +295,6 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-	// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
 		fprintf(stderr, "Couldn't set the Mtu\n");
diff -up perftest-1.3.0/write_bw.c.rocee perftest-1.3.0/write_bw.c
--- perftest-1.3.0/write_bw.c.rocee	2011-07-22 17:31:22.473680960 -0400
+++ perftest-1.3.0/write_bw.c	2011-07-22 17:33:38.095275134 -0400
@@ -212,15 +212,9 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-	// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
-		fprintf(stderr, "Couldn't set the MTUn");
+		fprintf(stderr, "Couldn't set the MTU\n");
 		return NULL;
 	}
 
diff -up perftest-1.3.0/write_bw_postlist.c.rocee perftest-1.3.0/write_bw_postlist.c
--- perftest-1.3.0/write_bw_postlist.c.rocee	2011-07-22 17:31:32.464577295 -0400
+++ perftest-1.3.0/write_bw_postlist.c	2011-07-22 17:33:55.137098676 -0400
@@ -167,15 +167,9 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-	// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
-		fprintf(stderr, "Couldn't set the link layer\n");
+		fprintf(stderr, "Couldn't set the link MTU\n");
 		return NULL;
 	}
 
diff -up perftest-1.3.0/write_lat.c.rocee perftest-1.3.0/write_lat.c
--- perftest-1.3.0/write_lat.c.rocee	2011-07-22 17:31:40.087498191 -0400
+++ perftest-1.3.0/write_lat.c	2011-07-22 17:34:10.559939016 -0400
@@ -148,15 +148,9 @@ static struct pingpong_context *pp_init_
 		return NULL;
 	}
 
-	// Finds the link type and configure the HCA accordingly.
-	if (ctx_set_link_layer(ctx->context,user_parm)) {
-		fprintf(stderr, " Couldn't set the link layer\n");
-		return NULL;
-	}
-
 	// Configure the Link MTU acoording to the user or the active mtu.
 	if (ctx_set_mtu(ctx->context,user_parm)) {
-		fprintf(stderr, "Couldn't set the link layer\n");
+		fprintf(stderr, "Couldn't set the link MTU\n");
 		return NULL;
 	}
 
